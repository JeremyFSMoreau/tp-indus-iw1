# see http://about.travis-ci.org/docs/user/languages/php/ for more hints
language: php

# list any PHP version you want to test against
php:
  - 7.0
  - 7.1

install:
# Install PHPCS
  - pear install PHP_CodeSniffer

script:
  - phpenv rehash
  - phpcs .
  - docker run --rm -v $PWD:/app phpqa/security-checker security:check

# configure notifications (email, IRC, campfire etc)
notifications:
  email: 
    recipients:
      - "jeremyfs.moreau@gmail.com"
    on_success: never
    on_failure: always

deploy:
  provider: heroku
  api_key:
    secure: 64c23463-57bf-44a2-b6ca-95015bdb5689
  app: indusiw1-jeremymoreau
  on: 
    repo: JeremyFSMoreau/tp-indus-iw1